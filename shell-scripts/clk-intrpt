#!/usr/bin/env bash

switchToWindow=4

function beep() {
  for (( i=0; i<80; i++ )); do
    tput bel
    sleep 0.225
  done
  wmctrl -s $switchToWindow
}

echo "###############################"
echo "#### Starting intrpt timer ####"
echo "###############################"

while true; do

  sleep 1
  date  

  timeMin=$(date | cut -d' ' -f 5)
  timeMin=${timeMin:3:5}
  echo $timeMin
  if [[ $(egrep '(00:00|25:00|30:00|55:00)$' <(echo $timeMin)) ]]; then
    beep&
  fi
done

